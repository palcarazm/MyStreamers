function verifyDB(){$("#verifyDB form").on("submit",(function(e){e.preventDefault(),$(this).find('button[type="submit"]').attr("disabled",!0),$(this).loadToggle(),callAPIverbose($(this).attr("action"),$(this).attr("method"),new FormData(this),$(this).find("input,textarea,select").filter("[required]").length,(function(){$("#verifyDB form").loadToggle(),$("#verifyDB.step").removeClass("current").addClass("done"),$("#verifyDB.step h2").addClass("text-success"),$("#configAdmin.step ").removeClass("todo").addClass("current"),$("#progreso").width("33%")}),(function(){$("#verifyDB form").loadToggle(),$("#verifyDB form").find('button[type="submit"]').attr("disabled",!1)}))}))}function configAdmin(){$("#configAdmin form").on("submit",(function(e){e.preventDefault(),$(this).find('button[type="submit"]').attr("disabled",!0),$(this).loadToggle(),callAPIverbose($(this).attr("action"),$(this).attr("method"),new FormData(this),$(this).find("input,textarea,select").filter("[required]").length,(function(){$("#configAdmin form").loadToggle(),$("#configAdmin.step").removeClass("current").addClass("done"),$("#configAdmin.step h2").addClass("text-success"),$("#siteConfig.step ").removeClass("todo").addClass("current"),$("#progreso").width("67%")}),(function(){$("#configAdmin form").loadToggle(),$("#configAdmin form").find('button[type="submit"]').attr("disabled",!1)}))}))}function validAdminuserForm(){$("#configAdmin form #pass2 , #configAdmin form #pass , #configAdmin form #email").on("input keyup keypress blur change",(function(){const e=validPassAdminuserForm(),i=validEmailAdminuserForm();e&&i?$(this).closest("form").find('button[type="submit"]').removeAttr("disabled"):$(this).closest("form").find('button[type="submit"]').attr("disabled","disabled")}))}function validPassAdminuserForm(){const e=$("#configAdmin form #pass"),i=$("#configAdmin form #pass2");return e.parent().find(".invalid-feedback").remove(),i.parent().find(".invalid-feedback").remove(),i.val()!=e.val()?(e.parent().append($("<div></div>").addClass("invalid-feedback").text("Las contraseñas no coinciden")),i.parent().append($("<div></div>").addClass("invalid-feedback").text("Las contraseñas no coinciden")),i.addClass("is-invalid").removeClass("is-valid"),e.addClass("is-invalid").removeClass("is-valid"),!1):checkPasswordStrength(String(e.val()).trim())?(i.removeClass("is-invalid").addClass("is-valid"),e.removeClass("is-invalid").addClass("is-valid"),!0):(e.addClass("is-invalid").removeClass("is-valid"),e.parent().append($("<div></div>").addClass("invalid-feedback").text("La contraseña debe contener al menos una minúscula, una mayúscula, un número, un carácter especial y ser de almenos 8 carácteres")),!1)}function validEmailAdminuserForm(){const e=$("#configAdmin form #email");return e.parent().find(".invalid-feedback").remove(),validateEmail(String(e.val()).trim())?(e.removeClass("is-invalid").addClass("is-valid"),!0):(e.addClass("is-invalid").removeClass("is-valid"),e.parent().append($("<div></div>").addClass("invalid-feedback").text("El correo electrónico debe ser válido")),!1)}function configSite(){$("#siteConfig form").on("submit",(function(e){e.preventDefault(),""!=$(this).find("#descripcion").val().replace(/<[^>]+>/g,"")?($(this).find("#descripcion").closest(".form-group").find(".invalid-feedback").remove(),$(this).find('button[type="submit"]').attr("disabled",!0),$(this).loadToggle(),callAPIverbose($(this).attr("action"),$(this).attr("method"),new FormData(this),$(this).find("input,textarea,select").filter("[required]").length,(function(){$("#siteConfig form").loadToggle(),$("#siteConfig.step").removeClass("current").addClass("done"),$("#siteConfig.step h2").addClass("text-success"),$("#siteConfig.step ").removeClass("todo").addClass("current"),$("#progreso").width("67%")}),(function(){$("#siteConfig form").loadToggle(),$("#siteConfig form").find('button[type="submit"]').attr("disabled",!1)}))):$(this).find("#descripcion").closest(".form-group").append($("<div></div>").addClass("invalid-feedback d-block").text("La descripción del sitio es obligatoria"))}))}function togglePassword(){$(".toggle-password").on("click",(function(){$(this).find("i").hasClass("fa-eye")?($(this).closest(".input-group").find("input").attr("type","text"),$(this).find("i").addClass("fa-eye-slash").removeClass("fa-eye")):($(this).closest(".input-group").find("input").attr("type","password"),$(this).find("i").addClass("fa-eye").removeClass("fa-eye-slash"))}))}function checkPasswordStrength(e){return new RegExp("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(?=.{8,})").test(e)}function validateEmail(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}$((function(){switch(currentURL()){case"/config":togglePassword(),$(".custom-select").select2(),$(".custom-textarea").richTextMD(),verifyDB(),configAdmin(),validAdminuserForm(),configSite()}})),jQuery.fn.richTextMD=function(){return this.richText({bold:!0,italic:!0,underline:!0,leftAlign:!0,centerAlign:!0,rightAlign:!0,justify:!0,ol:!0,ul:!0,heading:!0,fonts:!1,fontColor:!1,fontSize:!1,imageUpload:!1,fileUpload:!1,videoEmbed:!1,urls:!0,table:!1,removeStyles:!0,code:!0,colors:[],fileHTML:"",imageHTML:"",translations:{title:"Título",white:"Blanco",black:"Negro",brown:"Marrón",beige:"Beige",darkBlue:"Azul oscuro",blue:"Azul",lightBlue:"Azul claro",darkRed:"Rojo oscuro",red:"Rojo",darkGreen:"Verde oscuro",green:"Verde",purple:"Violeta",darkTurquois:"Turquesa oscuro",turquois:"turquesa",darkOrange:"Naranja oscuro",orange:"Naranja",yellow:"Amarillo",imageURL:"Dirección de la imagen",fileURL:"Dirección del archivo",linkText:"Texto del enlace",url:"URL",size:"Tamaño",responsive:"Responsive",text:"Texto",openIn:"Abrir en",sameTab:"Misma pestaña",newTab:"Nueva pestaña",align:"Alineación",left:"Izquierda",center:"Centrado",right:"Derecha",rows:"Filas",columns:"Columnas",add:"Añadir",pleaseEnterURL:"Porfavor indica una URL",videoURLnotSupported:"URL del video no soportada",pleaseSelectImage:"Porfavor indica una URL",pleaseSelectFile:"Porfavor selecciona un archivo",bold:"Negrita",italic:"Cursiva",underline:"Subrayado",alignLeft:"Alineación izquierda",alignCenter:"Alineación centrada",alignRight:"Alineación derecha",addOrderedList:"Añade una lista numerada",addUnorderedList:"Añade una lista",addHeading:"Añade un titulo",addFont:"Añade una fuente",addFontColor:"Añade un color",addFontSize:"Añade un tamaño de letra",addImage:"Añade una imagen",addVideo:"Añade un video",addFile:"Añade un archivo",addURL:"Añade un enlace",addTable:"Añade una tabla",removeStyles:"Elimina los estilos",code:"Muestra el código HTML",undo:"Deshacer",redo:"Rehacer",close:"Cerrar"},youtubeCookies:!1,useSingleQuotes:!1,height:0,heightPercentage:0,id:"",class:"",useParagraph:!0,maxlength:0,callback:void 0,useTabForNext:!1})};
//# sourceMappingURL=admin.min.js.map
