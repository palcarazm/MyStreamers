function verifyDB(){$("#verifyDB form").on("submit",(function(s){s.preventDefault(),$(this).find('button[type="submit"]').attr("disabled",!0),$(this).loadToggle(),callAPIverbose($(this).attr("action"),$(this).attr("method"),new FormData(this),$(this).find("input,textarea,select").filter("[required]").length,(function(){$("#verifyDB form").loadToggle(),$("#verifyDB.step").removeClass("current").addClass("done"),$("#verifyDB.step h2").addClass("text-success"),$("#configAdmin.step ").removeClass("todo").addClass("current"),$("#progreso").width("33%")}),(function(){$("#verifyDB form").loadToggle(),$("#verifyDB form").find('button[type="submit"]').attr("disabled",!1)}))}))}function configAdmin(){$("#configAdmin form").on("submit",(function(s){s.preventDefault(),$(this).find('button[type="submit"]').attr("disabled",!0),$(this).loadToggle(),callAPIverbose($(this).attr("action"),$(this).attr("method"),new FormData(this),$(this).find("input,textarea,select").filter("[required]").length,(function(){$("#configAdmin form").loadToggle(),$("#configAdmin.step").removeClass("current").addClass("done"),$("#configAdmin.step h2").addClass("text-success"),$("#siteConfig.step ").removeClass("todo").addClass("current"),$("#progreso").width("67%")}),(function(){$("#configAdmin form").loadToggle(),$("#configAdmin form").find('button[type="submit"]').attr("disabled",!1)}))}))}function validPass(){$("#configAdmin form #pass2 , #configAdmin form #pass").on("input keyup keypress blur change",(function(){const s=$("#configAdmin form #pass"),e=$("#configAdmin form #pass2");s.parent().find(".invalid-feedback").remove(),e.parent().find(".invalid-feedback").remove(),e.val()!=s.val()?(s.parent().append($("<div></div>").addClass("invalid-feedback").text("Las contraseñas no coinciden")),e.parent().append($("<div></div>").addClass("invalid-feedback").text("Las contraseñas no coinciden")),e.addClass("is-invalid").removeClass("is-valid"),s.addClass("is-invalid").removeClass("is-valid"),$(this).closest("form").find('button[type="submit"]').attr("disabled","disabled")):checkPasswordStrength(trim($(this).val()))?(e.removeClass("is-invalid").addClass("is-valid"),s.removeClass("is-invalid").addClass("is-valid"),$(this).closest("form").find('button[type="submit"]').removeAttr("disabled")):($(this).addClass("is-invalid").removeClass("is-valid"),$(this).parent().append($("<div></div>").addClass("invalid-feedback").text("La contraseña debe contener al menos una minúscula, una mayúscula, un número, un carácter especial y ser de almenos 8 carácteres")),$(this).closest("form").find('button[type="submit"]').attr("disabled","disabled"))}))}function togglePassword(){$(".toggle-password").on("click",(function(){$(this).find("i").hasClass("fa-eye")?($(this).closest(".input-group").find("input").attr("type","text"),$(this).find("i").addClass("fa-eye-slash").removeClass("fa-eye")):($(this).closest(".input-group").find("input").attr("type","password"),$(this).find("i").addClass("fa-eye").removeClass("fa-eye-slash"))}))}function checkPasswordStrength(s){return new RegExp("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(?=.{8,})").test(s)}$((function(){switch(currentURL()){case"/config":togglePassword(),verifyDB(),configAdmin(),validPass()}}));
//# sourceMappingURL=admin.min.js.map
