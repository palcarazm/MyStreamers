function verifyDB(){$("#verifyDB form").on("submit",(function(i){i.preventDefault(),$(this).find('button[type="submit"]').attr("disabled",!0),$(this).loadToggle(),callAPIverbose($(this).attr("action"),$(this).attr("method"),new FormData(this),$(this).find("input,textarea,select").filter("[required]").length,(function(){$("#verifyDB form").loadToggle(),$("#verifyDB.step").removeClass("current").addClass("done"),$("#verifyDB.step h2").addClass("text-success"),$("#configAdmin.step ").removeClass("todo").addClass("current"),$("#progreso").width("33%")}),(function(){$("#verifyDB form").loadToggle(),$("#verifyDB form").find('button[type="submit"]').attr("disabled",!1)}))}))}function configAdmin(){$("#configAdmin form").on("submit",(function(i){i.preventDefault(),$(this).find('button[type="submit"]').attr("disabled",!0),$(this).loadToggle(),callAPIverbose($(this).attr("action"),$(this).attr("method"),new FormData(this),$(this).find("input,textarea,select").filter("[required]").length,(function(){$("#configAdmin form").loadToggle(),$("#configAdmin.step").removeClass("current").addClass("done"),$("#configAdmin.step h2").addClass("text-success"),$("#siteConfig.step ").removeClass("todo").addClass("current"),$("#progreso").width("67%")}),(function(){$("#configAdmin form").loadToggle(),$("#configAdmin form").find('button[type="submit"]').attr("disabled",!1)}))}))}function validAdminuserForm(){$("#configAdmin form #pass2 , #configAdmin form #pass , #configAdmin form #email").on("input keyup keypress blur change",(function(){const i=validPassAdminuserForm(),e=validEmailAdminuserForm();i&&e?$(this).closest("form").find('button[type="submit"]').removeAttr("disabled"):$(this).closest("form").find('button[type="submit"]').attr("disabled","disabled")}))}function validPassAdminuserForm(){const i=$("#configAdmin form #pass"),e=$("#configAdmin form #pass2");return i.parent().find(".invalid-feedback").remove(),e.parent().find(".invalid-feedback").remove(),e.val()!=i.val()?(i.parent().append($("<div></div>").addClass("invalid-feedback").text("Las contraseñas no coinciden")),e.parent().append($("<div></div>").addClass("invalid-feedback").text("Las contraseñas no coinciden")),e.addClass("is-invalid").removeClass("is-valid"),i.addClass("is-invalid").removeClass("is-valid"),!1):checkPasswordStrength(String(i.val()).trim())?(e.removeClass("is-invalid").addClass("is-valid"),i.removeClass("is-invalid").addClass("is-valid"),!0):(i.addClass("is-invalid").removeClass("is-valid"),i.parent().append($("<div></div>").addClass("invalid-feedback").text("La contraseña debe contener al menos una minúscula, una mayúscula, un número, un carácter especial y ser de almenos 8 carácteres")),!1)}function validEmailAdminuserForm(){const i=$("#configAdmin form #email");return i.parent().find(".invalid-feedback").remove(),validateEmail(String(i.val()).trim())?(i.removeClass("is-invalid").addClass("is-valid"),!0):(i.addClass("is-invalid").removeClass("is-valid"),i.parent().append($("<div></div>").addClass("invalid-feedback").text("El correo electrónico debe ser válido")),!1)}function togglePassword(){$(".toggle-password").on("click",(function(){$(this).find("i").hasClass("fa-eye")?($(this).closest(".input-group").find("input").attr("type","text"),$(this).find("i").addClass("fa-eye-slash").removeClass("fa-eye")):($(this).closest(".input-group").find("input").attr("type","password"),$(this).find("i").addClass("fa-eye").removeClass("fa-eye-slash"))}))}function checkPasswordStrength(i){return new RegExp("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(?=.{8,})").test(i)}function validateEmail(i){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(i).toLowerCase())}$((function(){switch(currentURL()){case"/config":togglePassword(),verifyDB(),configAdmin(),validAdminuserForm()}}));
//# sourceMappingURL=admin.min.js.map
